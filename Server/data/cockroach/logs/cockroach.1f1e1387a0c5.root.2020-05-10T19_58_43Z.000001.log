I200510 19:58:43.120756 1 util/log/clog.go:1196  [config] file created at: 2020/05/10 19:58:43
I200510 19:58:43.120756 1 util/log/clog.go:1196  [config] running on machine: 1f1e1387a0c5
I200510 19:58:43.120756 1 util/log/clog.go:1196  [config] binary: CockroachDB CCL v19.2.5 (x86_64-unknown-linux-gnu, built 2020/03/16 18:27:12, go1.12.12)
I200510 19:58:43.120756 1 util/log/clog.go:1196  [config] arguments: [/cockroach/cockroach start --insecure --store=attrs=ssd,path=/var/lib/cockroach/]
I200510 19:58:43.120756 1 util/log/clog.go:1196  line format: [IWEF]yymmdd hh:mm:ss.uuuuuu goid file:line msg utf8=✓
I200510 19:58:43.120755 1 cli/start.go:1144  logging to directory /var/lib/cockroach/logs
W200510 19:58:43.127724 1 cli/start.go:1182  RUNNING IN INSECURE MODE!

- Your cluster is open for any client that can access <all your IP addresses>.
- Any user, even root, can log in without providing a password.
- Any user, connecting as root, can read or write any data in your cluster.
- There is no network encryption nor authentication, and thus no confidentiality.

Check out how to secure your cluster: https://www.cockroachlabs.com/docs/v19.2/secure-a-cluster.html
I200510 19:58:43.128042 1 server/status/recorder.go:597  available memory from cgroups (8.0 EiB) is unsupported, using system memory 1.9 GiB instead: 
W200510 19:58:43.128086 1 cli/start.go:1052  Using the default setting for --cache (128 MiB).
  A significantly larger value is usually needed for good performance.
  If you have a dedicated server a reasonable setting is --cache=.25 (497 MiB).
I200510 19:58:43.128253 1 server/status/recorder.go:597  available memory from cgroups (8.0 EiB) is unsupported, using system memory 1.9 GiB instead: 
W200510 19:58:43.128263 1 cli/start.go:1065  Using the default setting for --max-sql-memory (128 MiB).
  A significantly larger value is usually needed in production.
  If you have a dedicated server a reasonable setting is --max-sql-memory=.25 (497 MiB).
I200510 19:58:43.128418 1 server/status/recorder.go:597  available memory from cgroups (8.0 EiB) is unsupported, using system memory 1.9 GiB instead: 
I200510 19:58:43.128428 1 cli/start.go:1196  CockroachDB CCL v19.2.5 (x86_64-unknown-linux-gnu, built 2020/03/16 18:27:12, go1.12.12)
W200510 19:58:43.232464 1 cli/start.go:511  running 'cockroach start' without --join is deprecated.
Consider using 'cockroach start-single-node' or 'cockroach init' instead.
I200510 19:58:43.240432 1 server/status/recorder.go:597  available memory from cgroups (8.0 EiB) is unsupported, using system memory 1.9 GiB instead: 
I200510 19:58:43.240449 1 server/config.go:394  system total memory: 1.9 GiB
I200510 19:58:43.240472 1 server/config.go:396  server configuration:
max offset             500000000
cache size             128 MiB
SQL memory pool size   128 MiB
scan interval          10m0s
scan min idle time     10ms
scan max idle time     1s
event log enabled      true
I200510 19:58:43.240482 1 cli/start.go:1030  using local environment variables: COCKROACH_CHANNEL=official-docker
I200510 19:58:43.240490 1 cli/start.go:1037  process identity: uid 0 euid 0 gid 0 egid 0
I200510 19:58:43.240520 1 cli/start.go:644  starting cockroach node
I200510 19:58:43.245925 13 storage/engine/rocksdb.go:622  opening rocksdb instance at "/var/lib/cockroach/cockroach-temp618116939"
I200510 19:58:43.312220 13 server/server.go:928  [n?] monitoring forward clock jumps based on server.clock.forward_jump_check_enabled
I200510 19:58:43.315089 13 storage/engine/rocksdb.go:622  opening rocksdb instance at "/var/lib/cockroach"
I200510 19:58:43.351618 13 server/config.go:502  [n?] 1 storage engine initialized
I200510 19:58:43.351643 13 server/config.go:505  [n?] RocksDB cache size: 128 MiB
I200510 19:58:43.351648 13 server/config.go:505  [n?] store 0: RocksDB, max size 0 B, max open file limit 1043576
I200510 19:58:43.364695 13 server/server.go:1386  [n?] no stores bootstrapped and --join flag specified, awaiting init command or join with an already initialized node.
I200510 19:58:43.364710 13 server/server.go:1396  [n?] **** add additional nodes by specifying --join=1f1e1387a0c5:26257
W200510 19:58:43.364853 76 cli/start.go:996  neither --listen-addr nor --advertise-addr was specified.
The server will advertise "1f1e1387a0c5" to other nodes, is this routable?

Consider using:
- for local-only servers:  --listen-addr=localhost
- for multi-node clusters: --advertise-addr=<host/IP addr>
I200510 19:58:43.377823 13 server/node.go:326  [n?] **** cluster 3d423bb5-5d67-4ebf-947b-999bec430444 has been created
I200510 19:58:43.377982 13 gossip/gossip.go:394  [n1] NodeDescriptor set to node_id:1 address:<network_field:"tcp" address_field:"1f1e1387a0c5:26257" > attrs:<> locality:<> ServerVersion:<major_val:19 minor_val:2 patch:0 unstable:0 > build_tag:"v19.2.5" started_at:1589140723377907204 cluster_name:"" sql_address:<network_field:"tcp" address_field:"1f1e1387a0c5:26257" > 
W200510 19:58:43.392731 103 storage/store.go:1530  [n1,s1,r6/1:/Table/{SystemCon…-11}] could not gossip system config: [NotLeaseHolderError] r6: replica (n1,s1):1 not lease holder; lease holder unknown
I200510 19:58:43.405236 13 server/node.go:431  [n1] initialized store [n1,s1]: disk (capacity=894 GiB, available=592 GiB, used=74 KiB, logicalBytes=11 KiB), ranges=24, leases=2, queries=0.00, writes=0.00, bytesPerReplica={p10=0.00 p25=0.00 p50=0.00 p75=0.00 p90=166.00 pMax=9955.00}, writesPerReplica={p10=0.00 p25=0.00 p50=0.00 p75=0.00 p90=0.00 pMax=0.00}
I200510 19:58:43.405271 13 storage/stores.go:240  [n1] read 0 node addresses from persistent storage
I200510 19:58:43.405349 13 server/node.go:645  [n1] connecting to gossip network to verify cluster ID...
I200510 19:58:43.405359 13 server/node.go:665  [n1] node connected via gossip and verified as part of cluster "3d423bb5-5d67-4ebf-947b-999bec430444"
I200510 19:58:43.405418 13 server/node.go:512  [n1] node=1: started with [ssd=/var/lib/cockroach] engine(s) and attributes []
I200510 19:58:43.411845 13 server/server.go:1514  [n1] starting http server at [::]:8080 (use: 1f1e1387a0c5:8080)
I200510 19:58:43.411855 13 server/server.go:1521  [n1] starting grpc/postgres server at [::]:26257
I200510 19:58:43.411864 13 server/server.go:1522  [n1] advertising CockroachDB node at 1f1e1387a0c5:26257
I200510 19:58:43.438132 167 sql/event_log.go:130  [n1,intExec=optInToDiagnosticsStatReporting] Event: "set_cluster_setting", target: 0, info: {SettingName:diagnostics.reporting.enabled Value:true User:root}
I200510 19:58:43.444629 278 sql/event_log.go:130  [n1,intExec=set-setting] Event: "set_cluster_setting", target: 0, info: {SettingName:version Value:19.2 User:root}
I200510 19:58:43.448065 386 sql/event_log.go:130  [n1,intExec=disableNetTrace] Event: "set_cluster_setting", target: 0, info: {SettingName:trace.debug.enable Value:false User:root}
I200510 19:58:43.462029 554 sql/event_log.go:130  [n1,intExec=initializeClusterSecret] Event: "set_cluster_setting", target: 0, info: {SettingName:cluster.secret Value:6f69927b-0554-40b7-aa69-d2ef9fa356a7 User:root}
I200510 19:58:43.466488 607 sql/event_log.go:130  [n1,intExec=create-default-db] Event: "create_database", target: 50, info: {DatabaseName:defaultdb Statement:CREATE DATABASE IF NOT EXISTS defaultdb User:root}
I200510 19:58:43.468835 612 sql/event_log.go:130  [n1,intExec=create-default-db] Event: "create_database", target: 51, info: {DatabaseName:postgres Statement:CREATE DATABASE IF NOT EXISTS postgres User:root}
I200510 19:58:43.479686 13 server/server.go:1590  [n1] done ensuring all necessary migrations have run
I200510 19:58:43.479706 13 server/server.go:1841  [n1] serving sql connections
I200510 19:58:43.479774 13 cli/start.go:803  [config] clusterID: 3d423bb5-5d67-4ebf-947b-999bec430444
I200510 19:58:43.479787 13 cli/start.go:812  node startup completed:
CockroachDB node starting at 2020-05-10 19:58:43.479740604 +0000 UTC (took 0.4s)
build:               CCL v19.2.5 @ 2020/03/16 18:27:12 (go1.12.12)
webui:               http://1f1e1387a0c5:8080
sql:                 postgresql://root@1f1e1387a0c5:26257?sslmode=disable
RPC client flags:    /cockroach/cockroach <client cmd> --host=1f1e1387a0c5:26257 --insecure
logs:                /var/lib/cockroach/logs
temp dir:            /var/lib/cockroach/cockroach-temp618116939
external I/O path:   /var/lib/cockroach/extern
store[0]:            path=/var/lib/cockroach,attrs=ssd
status:              initialized new cluster
clusterID:           3d423bb5-5d67-4ebf-947b-999bec430444
nodeID:              1
I200510 19:58:43.481743 782 server/server_update.go:53  [n1] no need to upgrade, cluster already at the newest version
I200510 19:58:43.482733 784 sql/event_log.go:130  [n1] Event: "node_join", target: 1, info: {Descriptor:{NodeID:1 Address:1f1e1387a0c5:26257 Attrs: Locality: ServerVersion:19.2 BuildTag:v19.2.5 StartedAt:1589140723377907204 LocalityAddress:[] ClusterName: SQLAddress:1f1e1387a0c5:26257} ClusterID:3d423bb5-5d67-4ebf-947b-999bec430444 StartedAt:1589140723377907204 LastUp:1589140723377907204}
I200510 19:58:44.885292 786 server/updates.go:267  [n1] A new version is available: 19.2.6, details: https://www.cockroachlabs.com/docs/releases/v19.2.6.html
I200510 19:58:45.294680 74 gossip/gossip.go:1531  [n1] node has connected to cluster via gossip
I200510 19:58:45.294774 74 storage/stores.go:259  [n1] wrote 0 node addresses to persistent storage
I200510 19:58:53.413488 132 server/status/runtime.go:498  [n1] runtime stats: 111 MiB RSS, 125 goroutines, 96 MiB/28 MiB/135 MiB GO alloc/idle/total, 12 MiB/15 MiB CGO alloc/total, 0.0 CGO/sec, 0.0/0.0 %(u/s)time, 0.0 %gc (9x), 30 KiB/26 KiB (r/w)net
I200510 19:58:56.401399 1136 storage/replica_consistency.go:229  [n1,consistencyChecker,s1,r4/1:/System{/tsd-tse}] triggering stats recomputation to resolve delta of {ContainsEstimates:true LastUpdateNanos:1589140733423938380 IntentAge:0 GCBytesAge:0 LiveBytes:-7669 LiveCount:-664 KeyBytes:-32119 KeyCount:-664 ValBytes:24450 ValCount:-664 IntentBytes:0 IntentCount:0 SysBytes:0 SysCount:0}
I200510 19:59:03.413373 132 server/status/runtime.go:498  [n1] runtime stats: 121 MiB RSS, 125 goroutines, 105 MiB/19 MiB/135 MiB GO alloc/idle/total, 12 MiB/15 MiB CGO alloc/total, 230.6 CGO/sec, 0.5/0.2 %(u/s)time, 0.0 %gc (0x), 5.9 KiB/5.8 KiB (r/w)net
I200510 19:59:03.429435 111 storage/store.go:2364  [n1,s1] sstables (read amplification = 0):
I200510 19:59:03.429511 111 storage/store.go:2365  [n1,s1] 
** Compaction Stats [default] **
Level    Files   Size     Score Read(GB)  Rn(GB) Rnp1(GB) Write(GB) Wnew(GB) Moved(GB) W-Amp Rd(MB/s) Wr(MB/s) Comp(sec) CompMergeCPU(sec) Comp(cnt) Avg(sec) KeyIn KeyDrop
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Sum      0/0    0.00 KB   0.0      0.0     0.0      0.0       0.0      0.0       0.0   0.0      0.0      0.0      0.00              0.00         0    0.000       0      0
 Int      0/0    0.00 KB   0.0      0.0     0.0      0.0       0.0      0.0       0.0   0.0      0.0      0.0      0.00              0.00         0    0.000       0      0

** Compaction Stats [default] **
Priority    Files   Size     Score Read(GB)  Rn(GB) Rnp1(GB) Write(GB) Wnew(GB) Moved(GB) W-Amp Rd(MB/s) Wr(MB/s) Comp(sec) CompMergeCPU(sec) Comp(cnt) Avg(sec) KeyIn KeyDrop
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Uptime(secs): 20.1 total, 20.1 interval
Flush(GB): cumulative 0.000, interval 0.000
AddFile(GB): cumulative 0.000, interval 0.000
AddFile(Total Files): cumulative 0, interval 0
AddFile(L0 Files): cumulative 0, interval 0
AddFile(Keys): cumulative 0, interval 0
Cumulative compaction: 0.00 GB write, 0.00 MB/s write, 0.00 GB read, 0.00 MB/s read, 0.0 seconds
Interval compaction: 0.00 GB write, 0.00 MB/s write, 0.00 GB read, 0.00 MB/s read, 0.0 seconds
Stalls(count): 0 level0_slowdown, 0 level0_slowdown_with_compaction, 0 level0_numfiles, 0 level0_numfiles_with_compaction, 0 stop for pending_compaction_bytes, 0 slowdown for pending_compaction_bytes, 0 memtable_compaction, 0 memtable_slowdown, interval 0 total count
estimated_pending_compaction_bytes: 0 B
I200510 19:59:13.413633 132 server/status/runtime.go:498  [n1] runtime stats: 130 MiB RSS, 125 goroutines, 113 MiB/11 MiB/135 MiB GO alloc/idle/total, 12 MiB/15 MiB CGO alloc/total, 55.4 CGO/sec, 0.4/0.2 %(u/s)time, 0.0 %gc (0x), 2.9 KiB/2.9 KiB (r/w)net
I200510 19:59:23.413710 132 server/status/runtime.go:498  [n1] runtime stats: 137 MiB RSS, 126 goroutines, 82 MiB/37 MiB/135 MiB GO alloc/idle/total, 12 MiB/15 MiB CGO alloc/total, 26.8 CGO/sec, 0.3/0.2 %(u/s)time, 0.0 %gc (1x), 1.5 KiB/1.4 KiB (r/w)net
I200510 19:59:24.096402 1519 sql/event_log.go:130  [n1,client=172.22.0.3:59098,user=root] Event: "create_database", target: 52, info: {DatabaseName:nakama Statement:CREATE DATABASE nakama User:root}
I200510 19:59:24.108715 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 53, info: {TableName:nakama.public.migration_info Statement:CREATE TABLE IF NOT EXISTS migration_info (id STRING NOT NULL PRIMARY KEY, applied_at TIMESTAMPTZ) User:root}
I200510 19:59:24.110094 1653 storage/replica_command.go:411  [n1,split,s1,r24/1:/{Table/28-Max}] initiating a split of this range at key /Table/53 [r25] (zone config)
I200510 19:59:24.181192 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 54, info: {TableName:nakama.public.users Statement:CREATE TABLE IF NOT EXISTS users (PRIMARY KEY (id), id UUID NOT NULL, username VARCHAR(128) NOT NULL CONSTRAINT users_username_key UNIQUE, display_name VARCHAR(255), avatar_url VARCHAR(512), lang_tag VARCHAR(18) DEFAULT 'en', location VARCHAR(255), timezone VARCHAR(255), metadata JSONB NOT NULL DEFAULT '{}', wallet JSONB NOT NULL DEFAULT '{}', email VARCHAR(255) UNIQUE, password BYTES, facebook_id VARCHAR(128) UNIQUE, google_id VARCHAR(128) UNIQUE, gamecenter_id VARCHAR(128) UNIQUE, steam_id VARCHAR(128) UNIQUE, custom_id VARCHAR(128) UNIQUE, edge_count INT8 NOT NULL DEFAULT 0, create_time TIMESTAMPTZ NOT NULL DEFAULT now(), update_time TIMESTAMPTZ NOT NULL DEFAULT now(), verify_time TIMESTAMPTZ NOT NULL DEFAULT '1970-01-01 00:00:00+00:00', disable_time TIMESTAMPTZ NOT NULL DEFAULT '1970-01-01 00:00:00+00:00', CHECK (length(password) < 32000), CHECK (edge_count >= 0)) User:root}
I200510 19:59:24.181199 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 55, info: {TableName:nakama.public.user_device Statement:CREATE TABLE IF NOT EXISTS user_device (PRIMARY KEY (id), FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE, id VARCHAR(128) NOT NULL, user_id UUID NOT NULL, UNIQUE (user_id, id)) User:root}
I200510 19:59:24.181203 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 56, info: {TableName:nakama.public.user_edge Statement:CREATE TABLE IF NOT EXISTS user_edge (PRIMARY KEY (source_id, state, "position"), FOREIGN KEY (source_id) REFERENCES users (id) ON DELETE CASCADE, FOREIGN KEY (destination_id) REFERENCES users (id) ON DELETE CASCADE, source_id UUID NOT NULL, "position" INT8 NOT NULL, update_time TIMESTAMPTZ NOT NULL DEFAULT now(), destination_id UUID NOT NULL, state INT2 NOT NULL DEFAULT 0, UNIQUE (source_id, destination_id), CHECK (source_id != '00000000-0000-0000-0000-000000000000'), CHECK (destination_id != '00000000-0000-0000-0000-000000000000')) User:root}
I200510 19:59:24.181207 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 57, info: {TableName:nakama.public.notification Statement:CREATE TABLE IF NOT EXISTS notification (PRIMARY KEY (user_id, create_time, id), FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE, id UUID NOT NULL CONSTRAINT notification_id_key UNIQUE, user_id UUID NOT NULL, subject VARCHAR(255) NOT NULL, content JSONB NOT NULL DEFAULT '{}', code INT2 NOT NULL, sender_id UUID NOT NULL, create_time TIMESTAMPTZ NOT NULL DEFAULT now()) User:root}
I200510 19:59:24.181210 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 58, info: {TableName:nakama.public.storage Statement:CREATE TABLE IF NOT EXISTS storage (PRIMARY KEY (collection, read, key, user_id), FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE, collection VARCHAR(128) NOT NULL, key VARCHAR(128) NOT NULL, user_id UUID NOT NULL, value JSONB NOT NULL DEFAULT '{}', version VARCHAR(32) NOT NULL, read INT2 NOT NULL DEFAULT 1, write INT2 NOT NULL DEFAULT 1, create_time TIMESTAMPTZ NOT NULL DEFAULT now(), update_time TIMESTAMPTZ NOT NULL DEFAULT now(), UNIQUE (collection, key, user_id), CHECK (read >= 0), CHECK (write >= 0)) User:root}
I200510 19:59:24.181217 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_index", target: 58, info: {TableName:nakama.public.storage IndexName:collection_read_user_id_key_idx Statement:CREATE INDEX IF NOT EXISTS collection_read_user_id_key_idx ON storage (collection, read, user_id, key) User:root MutationID:0}
I200510 19:59:24.181222 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_index", target: 58, info: {TableName:nakama.public.storage IndexName:collection_user_id_read_key_idx Statement:CREATE INDEX IF NOT EXISTS collection_user_id_read_key_idx ON storage (collection, user_id, read, key) User:root MutationID:0}
I200510 19:59:24.181225 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 59, info: {TableName:nakama.public.message Statement:CREATE TABLE IF NOT EXISTS message (PRIMARY KEY (stream_mode, stream_subject, stream_descriptor, stream_label, create_time, id), FOREIGN KEY (sender_id) REFERENCES users (id) ON DELETE CASCADE, id UUID NOT NULL UNIQUE, code INT2 NOT NULL DEFAULT 0, sender_id UUID NOT NULL, username VARCHAR(128) NOT NULL, stream_mode INT2 NOT NULL, stream_subject UUID NOT NULL, stream_descriptor UUID NOT NULL, stream_label VARCHAR(128) NOT NULL, content JSONB NOT NULL DEFAULT '{}', create_time TIMESTAMPTZ NOT NULL DEFAULT now(), update_time TIMESTAMPTZ NOT NULL DEFAULT now(), UNIQUE (sender_id, id)) User:root}
I200510 19:59:24.181229 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 60, info: {TableName:nakama.public.leaderboard Statement:CREATE TABLE IF NOT EXISTS leaderboard (PRIMARY KEY (id), id VARCHAR(128) NOT NULL, authoritative BOOL DEFAULT false, sort_order INT2 NOT NULL DEFAULT 1, operator INT2 NOT NULL DEFAULT 0, reset_schedule VARCHAR(64), metadata JSONB NOT NULL DEFAULT '{}', create_time TIMESTAMPTZ NOT NULL DEFAULT now()) User:root}
I200510 19:59:24.181274 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 61, info: {TableName:nakama.public.leaderboard_record Statement:CREATE TABLE IF NOT EXISTS leaderboard_record (PRIMARY KEY (leaderboard_id, expiry_time, score, subscore, owner_id), FOREIGN KEY (leaderboard_id) REFERENCES leaderboard (id) ON DELETE CASCADE, leaderboard_id VARCHAR(128) NOT NULL, owner_id UUID NOT NULL, username VARCHAR(128), score INT8 NOT NULL DEFAULT 0, subscore INT8 NOT NULL DEFAULT 0, num_score INT8 NOT NULL DEFAULT 1, metadata JSONB NOT NULL DEFAULT '{}', create_time TIMESTAMPTZ NOT NULL DEFAULT now(), update_time TIMESTAMPTZ NOT NULL DEFAULT now(), expiry_time TIMESTAMPTZ NOT NULL DEFAULT '1970-01-01 00:00:00+00:00', UNIQUE (owner_id, leaderboard_id, expiry_time), CHECK (score >= 0), CHECK (subscore >= 0), CHECK (num_score >= 0)) User:root}
I200510 19:59:24.181278 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 62, info: {TableName:nakama.public.wallet_ledger Statement:CREATE TABLE IF NOT EXISTS wallet_ledger (PRIMARY KEY (user_id, create_time, id), FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE, id UUID NOT NULL UNIQUE, user_id UUID NOT NULL, changeset JSONB NOT NULL, metadata JSONB NOT NULL, create_time TIMESTAMPTZ NOT NULL DEFAULT now(), update_time TIMESTAMPTZ NOT NULL DEFAULT now()) User:root}
I200510 19:59:24.181282 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 63, info: {TableName:nakama.public.user_tombstone Statement:CREATE TABLE IF NOT EXISTS user_tombstone (PRIMARY KEY (create_time, user_id), user_id UUID NOT NULL UNIQUE, create_time TIMESTAMPTZ NOT NULL DEFAULT now()) User:root}
I200510 19:59:24.181285 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 64, info: {TableName:nakama.public.groups Statement:CREATE TABLE IF NOT EXISTS groups (PRIMARY KEY (disable_time, lang_tag, edge_count, id), id UUID NOT NULL UNIQUE, creator_id UUID NOT NULL, name VARCHAR(255) NOT NULL CONSTRAINT groups_name_key UNIQUE, description VARCHAR(255), avatar_url VARCHAR(512), lang_tag VARCHAR(18) DEFAULT 'en', metadata JSONB NOT NULL DEFAULT '{}', state INT2 NOT NULL DEFAULT 0, edge_count INT8 NOT NULL DEFAULT 0, max_count INT8 NOT NULL DEFAULT 100, create_time TIMESTAMPTZ NOT NULL DEFAULT now(), update_time TIMESTAMPTZ NOT NULL DEFAULT now(), disable_time TIMESTAMPTZ NOT NULL DEFAULT '1970-01-01 00:00:00+00:00', CHECK (state >= 0), CHECK ((edge_count >= 1) AND (edge_count <= max_count)), CHECK (max_count >= 1)) User:root}
I200510 19:59:24.181292 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_index", target: 64, info: {TableName:nakama.public.groups IndexName:edge_count_update_time_id_idx Statement:CREATE INDEX IF NOT EXISTS edge_count_update_time_id_idx ON groups (disable_time, edge_count, update_time, id) User:root MutationID:0}
I200510 19:59:24.181296 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_index", target: 64, info: {TableName:nakama.public.groups IndexName:update_time_edge_count_id_idx Statement:CREATE INDEX IF NOT EXISTS update_time_edge_count_id_idx ON groups (disable_time, update_time, edge_count, id) User:root MutationID:0}
I200510 19:59:24.181299 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_table", target: 65, info: {TableName:nakama.public.group_edge Statement:CREATE TABLE IF NOT EXISTS group_edge (PRIMARY KEY (source_id, state, "position"), source_id UUID NOT NULL, "position" INT8 NOT NULL, update_time TIMESTAMPTZ NOT NULL DEFAULT now(), destination_id UUID NOT NULL, state INT2 NOT NULL DEFAULT 0, UNIQUE (source_id, destination_id), CHECK (source_id != '00000000-0000-0000-0000-000000000000'), CHECK (destination_id != '00000000-0000-0000-0000-000000000000')) User:root}
I200510 19:59:24.183637 1758 storage/replica_command.go:411  [n1,split,s1,r25/1:/{Table/53-Max}] initiating a split of this range at key /Table/54 [r26] (zone config)
I200510 19:59:24.187246 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root] publish: descID=60 (leaderboard) version=2 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.189815 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root] publish: descID=61 (leaderboard_record) version=2 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.194525 1695 storage/replica_command.go:411  [n1,split,s1,r26/1:/{Table/54-Max}] initiating a split of this range at key /Table/55 [r27] (zone config)
I200510 19:59:24.198812 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "alter_table", target: 60, info: {TableName:nakama.public.leaderboard Statement:ALTER TABLE leaderboard ADD COLUMN category INT2 NOT NULL DEFAULT 0, ADD COLUMN description VARCHAR(255) NOT NULL DEFAULT '', ADD COLUMN duration INT8 NOT NULL DEFAULT 0, ADD COLUMN end_time TIMESTAMPTZ NOT NULL DEFAULT '1970-01-01 00:00:00+00:00', ADD COLUMN join_required BOOL NOT NULL DEFAULT false, ADD COLUMN max_size INT8 NOT NULL DEFAULT 100000000, ADD COLUMN max_num_score INT8 NOT NULL DEFAULT 1000000, ADD COLUMN title VARCHAR(255) NOT NULL DEFAULT '', ADD COLUMN size INT8 NOT NULL DEFAULT 0, ADD COLUMN start_time TIMESTAMPTZ NOT NULL DEFAULT now() User:root MutationID:1 CascadeDroppedViews:[]}
I200510 19:59:24.198820 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "alter_table", target: 61, info: {TableName:nakama.public.leaderboard_record Statement:ALTER TABLE leaderboard_record ADD COLUMN max_num_score INT8 NOT NULL DEFAULT 1000000 User:root MutationID:1 CascadeDroppedViews:[]}
I200510 19:59:24.198953 1601 sql/schema_changer.go:965  [n1,client=172.22.0.3:59100,user=root,scExec] schema change on leaderboard (60 v2) mutation 1 starting execution...
I200510 19:59:24.203812 1908 storage/replica_command.go:411  [n1,split,s1,r27/1:/{Table/55-Max}] initiating a split of this range at key /Table/56 [r28] (zone config)
I200510 19:59:24.211692 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=60 (leaderboard) version=3 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.214020 1905 storage/replica_command.go:411  [n1,split,s1,r28/1:/{Table/56-Max}] initiating a split of this range at key /Table/57 [r29] (zone config)
I200510 19:59:24.219688 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60...
I200510 19:59:24.220348 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60... done (at v 3)
I200510 19:59:24.226623 2011 storage/replica_command.go:411  [n1,split,s1,r29/1:/{Table/57-Max}] initiating a split of this range at key /Table/58 [r30] (zone config)
I200510 19:59:24.230167 1601 sql/backfill.go:143  [n1,client=172.22.0.3:59100,user=root,scExec] Running backfill for "leaderboard", v=3, m=1
I200510 19:59:24.237328 2039 storage/replica_command.go:411  [n1,split,s1,r30/1:/{Table/58-Max}] initiating a split of this range at key /Table/59 [r31] (zone config)
I200510 19:59:24.248416 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=60 (leaderboard) version=4 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.249209 2065 storage/replica_command.go:411  [n1,split,s1,r31/1:/{Table/59-Max}] initiating a split of this range at key /Table/60 [r32] (zone config)
I200510 19:59:24.256496 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root,scExec] Event: "finish_schema_change", target: 60, info: {MutationID:1}
I200510 19:59:24.256507 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60...
I200510 19:59:24.257724 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{leaderboard 60 3}]
I200510 19:59:24.259564 2089 sql/lease.go:921  new lease: 60("leaderboard") ver=4:1589141070.818950630,0, refcount=0
I200510 19:59:24.263165 2169 storage/replica_command.go:411  [n1,split,s1,r32/1:/{Table/60-Max}] initiating a split of this range at key /Table/61 [r33] (zone config)
I200510 19:59:24.272596 2161 storage/replica_command.go:411  [n1,split,s1,r33/1:/{Table/61-Max}] initiating a split of this range at key /Table/62 [r34] (zone config)
I200510 19:59:24.280740 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60... done (at v 4)
I200510 19:59:24.284784 1601 sql/schema_changer.go:965  [n1,client=172.22.0.3:59100,user=root,scExec] schema change on leaderboard_record (61 v2) mutation 1 starting execution...
I200510 19:59:24.286163 2274 storage/replica_command.go:411  [n1,split,s1,r34/1:/{Table/62-Max}] initiating a split of this range at key /Table/63 [r35] (zone config)
I200510 19:59:24.296594 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=61 (leaderboard_record) version=3 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.297776 2371 storage/replica_command.go:411  [n1,split,s1,r35/1:/{Table/63-Max}] initiating a split of this range at key /Table/64 [r36] (zone config)
I200510 19:59:24.302029 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61...
I200510 19:59:24.303575 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{leaderboard_record 61 2}]
I200510 19:59:24.306370 2369 sql/lease.go:921  new lease: 61("leaderboard_record") ver=3:1589141073.753095854,0, refcount=0
I200510 19:59:24.311622 2465 storage/replica_command.go:411  [n1,split,s1,r36/1:/{Table/64-Max}] initiating a split of this range at key /Table/65 [r37] (zone config)
I200510 19:59:24.323046 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61... done (at v 3)
I200510 19:59:24.325073 1601 sql/backfill.go:143  [n1,client=172.22.0.3:59100,user=root,scExec] Running backfill for "leaderboard_record", v=3, m=1
I200510 19:59:24.328785 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=61 (leaderboard_record) version=4 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.338041 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root,scExec] Event: "finish_schema_change", target: 61, info: {MutationID:1}
I200510 19:59:24.338050 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61...
I200510 19:59:24.340548 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{leaderboard_record 61 3}]
I200510 19:59:24.342068 2512 sql/lease.go:921  new lease: 61("leaderboard_record") ver=4:1589141073.754095854,0, refcount=0
I200510 19:59:24.360391 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61... done (at v 4)
I200510 19:59:24.364055 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root] publish: descID=60 (leaderboard) version=5 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.369710 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root] publish: descID=61 (leaderboard_record) version=5 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.376232 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "alter_table", target: 60, info: {TableName:nakama.public.leaderboard Statement:ALTER TABLE leaderboard ADD CONSTRAINT check_category CHECK (category >= 0), ADD CONSTRAINT check_duration CHECK (duration >= 0), ADD CONSTRAINT check_max_size CHECK (max_size > 0), ADD CONSTRAINT check_max_num_score CHECK (max_num_score > 0) User:root MutationID:2 CascadeDroppedViews:[]}
I200510 19:59:24.376239 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_index", target: 60, info: {TableName:nakama.public.leaderboard IndexName:duration_start_time_end_time_category_idx Statement:CREATE INDEX IF NOT EXISTS duration_start_time_end_time_category_idx ON leaderboard (duration, start_time, end_time DESC, category) User:root MutationID:2}
I200510 19:59:24.376245 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "create_index", target: 61, info: {TableName:nakama.public.leaderboard_record IndexName:owner_id_expiry_time_leaderboard_id_idx Statement:CREATE INDEX IF NOT EXISTS owner_id_expiry_time_leaderboard_id_idx ON leaderboard_record (owner_id, expiry_time, leaderboard_id) User:root MutationID:2}
I200510 19:59:24.376609 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "alter_table", target: 61, info: {TableName:nakama.public.leaderboard_record Statement:ALTER TABLE leaderboard_record ADD CONSTRAINT check_max_num_score CHECK (max_num_score > 0) User:root MutationID:2 CascadeDroppedViews:[]}
I200510 19:59:24.376825 1601 sql/schema_changer.go:965  [n1,client=172.22.0.3:59100,user=root,scExec] schema change on leaderboard (60 v5) mutation 2 starting execution...
I200510 19:59:24.378920 2709 sql/lease.go:921  new lease: 60("leaderboard") ver=5:1589141074.039751914,0, refcount=0
I200510 19:59:24.382366 2699 sql/lease.go:921  new lease: 61("leaderboard_record") ver=5:1589141073.755095854,0, refcount=0
I200510 19:59:24.399806 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=60 (leaderboard) version=6 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.412079 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60...
I200510 19:59:24.413314 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{leaderboard 60 5}]
I200510 19:59:24.415256 2899 sql/lease.go:921  new lease: 60("leaderboard") ver=6:1589141074.040751914,0, refcount=0
I200510 19:59:24.437139 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60... done (at v 6)
I200510 19:59:24.439067 1601 sql/backfill.go:143  [n1,client=172.22.0.3:59100,user=root,scExec] Running backfill for "leaderboard", v=6, m=2
I200510 19:59:24.439117 1601 storage/replica_command.go:411  [n1,s1,r32/1:/Table/6{0-1}] initiating a split of this range at key /Table/60/2 [r38] (manual)
I200510 19:59:24.448741 3009 sql/backfill.go:1244  [n1,client=172.22.0.3:59100,user=root,scExec] validation: table leaderboard row count = 0, took 1.2437ms
I200510 19:59:24.449526 3008 sql/backfill.go:1209  [n1,client=172.22.0.3:59100,user=root,scExec] validation: index leaderboard/duration_start_time_end_time_category_idx row count = 0, took 769.1µs
I200510 19:59:24.450382 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=60 (leaderboard) version=7 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.451335 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60...
I200510 19:59:24.453297 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{leaderboard 60 6}]
I200510 19:59:24.453442 3018 sql/lease.go:921  new lease: 60("leaderboard") ver=7:1589141074.041751914,0, refcount=0
I200510 19:59:24.477167 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60... done (at v 7)
I200510 19:59:24.479468 3041 sql/check.go:49  [n1,client=172.22.0.3:59100,user=root,scExec] Validating check constraint "duration >= 0" with query "SELECT id, authoritative, sort_order, operator, reset_schedule, metadata, create_time, category, description, duration, end_time, join_required, max_size, max_num_score, title, size, start_time FROM [60 AS t] WHERE NOT (duration >= 0) LIMIT 1:::INT8"
I200510 19:59:24.479577 3122 sql/check.go:49  [n1,client=172.22.0.3:59100,user=root,scExec] Validating check constraint "max_size > 0" with query "SELECT id, authoritative, sort_order, operator, reset_schedule, metadata, create_time, category, description, duration, end_time, join_required, max_size, max_num_score, title, size, start_time FROM [60 AS t] WHERE NOT (max_size > 0) LIMIT 1:::INT8"
I200510 19:59:24.480040 3040 sql/check.go:49  [n1,client=172.22.0.3:59100,user=root,scExec] Validating check constraint "category >= 0" with query "SELECT id, authoritative, sort_order, operator, reset_schedule, metadata, create_time, category, description, duration, end_time, join_required, max_size, max_num_score, title, size, start_time FROM [60 AS t] WHERE NOT (category >= 0) LIMIT 1:::INT8"
I200510 19:59:24.480260 3123 sql/check.go:49  [n1,client=172.22.0.3:59100,user=root,scExec] Validating check constraint "max_num_score > 0" with query "SELECT id, authoritative, sort_order, operator, reset_schedule, metadata, create_time, category, description, duration, end_time, join_required, max_size, max_num_score, title, size, start_time FROM [60 AS t] WHERE NOT (max_num_score > 0) LIMIT 1:::INT8"
I200510 19:59:24.481501 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=60 (leaderboard) version=8 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.485255 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root,scExec] Event: "finish_schema_change", target: 60, info: {MutationID:2}
I200510 19:59:24.485266 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60...
I200510 19:59:24.487239 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{leaderboard 60 7}]
I200510 19:59:24.487747 3135 sql/lease.go:921  new lease: 60("leaderboard") ver=8:1589141074.042751914,0, refcount=0
I200510 19:59:24.506649 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 60... done (at v 8)
I200510 19:59:24.507886 1601 sql/schema_changer.go:965  [n1,client=172.22.0.3:59100,user=root,scExec] schema change on leaderboard (60 v8) mutation 2 starting execution...
I200510 19:59:24.511038 1601 sql/schema_changer.go:965  [n1,client=172.22.0.3:59100,user=root,scExec] schema change on leaderboard_record (61 v5) mutation 2 starting execution...
I200510 19:59:24.518106 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=61 (leaderboard_record) version=6 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.520123 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61...
I200510 19:59:24.520800 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{leaderboard_record 61 5}]
I200510 19:59:24.522027 3554 sql/lease.go:921  new lease: 61("leaderboard_record") ver=6:1589141073.756095854,0, refcount=0
I200510 19:59:24.540597 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61... done (at v 6)
I200510 19:59:24.542279 1601 sql/backfill.go:143  [n1,client=172.22.0.3:59100,user=root,scExec] Running backfill for "leaderboard_record", v=6, m=2
I200510 19:59:24.542341 1601 storage/replica_command.go:411  [n1,s1,r33/1:/Table/6{1-2}] initiating a split of this range at key /Table/61/3 [r39] (manual)
I200510 19:59:24.554445 3676 sql/backfill.go:1244  [n1,client=172.22.0.3:59100,user=root,scExec] validation: table leaderboard_record row count = 0, took 4.362ms
I200510 19:59:24.555254 3675 sql/backfill.go:1209  [n1,client=172.22.0.3:59100,user=root,scExec] validation: index leaderboard_record/owner_id_expiry_time_leaderboard_id_idx row count = 0, took 791.7µs
I200510 19:59:24.556169 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=61 (leaderboard_record) version=7 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.556814 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61...
I200510 19:59:24.557608 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{leaderboard_record 61 6}]
I200510 19:59:24.558802 3665 sql/lease.go:921  new lease: 61("leaderboard_record") ver=7:1589141077.239386287,0, refcount=0
I200510 19:59:24.579254 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61... done (at v 7)
I200510 19:59:24.581339 3721 sql/check.go:49  [n1,client=172.22.0.3:59100,user=root,scExec] Validating check constraint "max_num_score > 0" with query "SELECT leaderboard_id, owner_id, username, score, subscore, num_score, metadata, create_time, update_time, expiry_time, max_num_score FROM [61 AS t] WHERE NOT (max_num_score > 0) LIMIT 1:::INT8"
I200510 19:59:24.582690 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=61 (leaderboard_record) version=8 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.586332 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root,scExec] Event: "finish_schema_change", target: 61, info: {MutationID:2}
I200510 19:59:24.586339 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61...
I200510 19:59:24.587062 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{leaderboard_record 61 7}]
I200510 19:59:24.588376 3796 sql/lease.go:921  new lease: 61("leaderboard_record") ver=8:1589141077.240386287,0, refcount=0
I200510 19:59:24.609230 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 61... done (at v 8)
I200510 19:59:24.610686 1601 sql/schema_changer.go:965  [n1,client=172.22.0.3:59100,user=root,scExec] schema change on leaderboard_record (61 v8) mutation 2 starting execution...
I200510 19:59:24.617092 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root] publish: descID=54 (users) version=2 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.620128 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root] Event: "alter_table", target: 54, info: {TableName:nakama.public.users Statement:ALTER TABLE users ADD COLUMN facebook_instant_game_id VARCHAR(128) UNIQUE User:root MutationID:1 CascadeDroppedViews:[]}
I200510 19:59:24.620231 1601 sql/schema_changer.go:965  [n1,client=172.22.0.3:59100,user=root,scExec] schema change on users (54 v2) mutation 1 starting execution...
I200510 19:59:24.636606 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=54 (users) version=3 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.638826 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 54...
I200510 19:59:24.639434 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 54... done (at v 3)
I200510 19:59:24.647680 1601 sql/backfill.go:143  [n1,client=172.22.0.3:59100,user=root,scExec] Running backfill for "users", v=3, m=1
I200510 19:59:24.647722 1601 storage/replica_command.go:411  [n1,s1,r26/1:/Table/5{4-5}] initiating a split of this range at key /Table/54/9 [r40] (manual)
I200510 19:59:24.658106 4425 sql/backfill.go:1244  [n1,client=172.22.0.3:59100,user=root,scExec] validation: table users row count = 1, took 767.1µs
I200510 19:59:24.658693 4424 sql/backfill.go:1209  [n1,client=172.22.0.3:59100,user=root,scExec] validation: index users/users_facebook_instant_game_id_key row count = 1, took 572.1µs
I200510 19:59:24.659650 1601 sql/sqlbase/structured.go:1529  [n1,client=172.22.0.3:59100,user=root,scExec] publish: descID=54 (users) version=4 mtime=1970-01-01 00:00:00 +0000 UTC
I200510 19:59:24.662814 1601 sql/event_log.go:130  [n1,client=172.22.0.3:59100,user=root,scExec] Event: "finish_schema_change", target: 54, info: {MutationID:1}
I200510 19:59:24.662823 1601 sql/schema_changer.go:1258  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 54...
I200510 19:59:24.663528 1601 sql/lease.go:326  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for 1 leases to expire: desc=[{users 54 3}]
I200510 19:59:24.664739 4430 sql/lease.go:921  new lease: 54("users") ver=4:1589141062.922416756,0, refcount=0
I200510 19:59:24.684159 1601 sql/schema_changer.go:1260  [n1,client=172.22.0.3:59100,user=root,scExec] waiting for a single version of table 54... done (at v 4)
